<!doctype html>

<script>
	function updateScreenWidth() {
		const isTouchMobile = window.matchMedia('(hover: none) and (pointer: coarse)').matches;

		let screenWidth;
		if (isTouchMobile) {
			const viewportWidth = window.visualViewport?.width || document.documentElement.clientWidth;
			const viewportHeight = window.visualViewport?.height || document.documentElement.clientHeight;
			screenWidth = viewportWidth > viewportHeight ? viewportWidth : viewportHeight;
		} else {
			const width = window.screen.width;
			const height = window.screen.height;
			const devicePixelRatio = window.devicePixelRatio || 1;
			const actualWidth = width * devicePixelRatio;
			const actualHeight = height * devicePixelRatio;

			screenWidth = actualWidth > actualHeight ? actualWidth : actualHeight;
		}

		document.documentElement.style.setProperty('--screen-width', screenWidth + 'px');
	}
	updateScreenWidth();
	// Updating --screen-width on window resize
	window.addEventListener('resize', updateScreenWidth);
</script>

<html lang="en">
	<head>
		<!-- %sveltekit.head% -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>War Thunder Aircraft Performance Calculator</title>
		<meta
			name="description"
			content="Graphs of engine power and power/weight of all piston aircraft in War Thunder, at all altitudes."
		/>
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<!-- %sveltekit.head% -->
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>

<style>
	@font-face {
		font-family: symbols_skyquake;
		src: url('/fonts/symbols_skyquake.ttf') format('truetype');
		unicode-range: U+2417-2900, U+F059, U+22E0, U+25D0;
	}
	@font-face {
		font-family: 'Inter';
		src: url('/fonts/InterVariable.ttf') format('truetype');
	}

	@font-face {
		font-family: 'EBGaramond';
		src: url('/fonts/EBGaramond-VariableFont_wght.ttf') format('truetype');
	}

	@font-face {
		font-family: 'CrimsonPro';
		src: url('/fonts/CrimsonPro-VariableFont_wght.ttf') format('truetype');
	}

	:root {
		--bg-col: rgb(13, 17, 22); /* Define your background color here */
	}
	/* #0E1012; */
	*,
	*::before,
	*::after {
		box-sizing: border-box;
	}
	* {
		margin: 0;
	}
	html {
		width: --screen-width;
		font-size: calc(var(--screen-width) * 0.008);
		background-color: var(--bg-col);
		/* color: #F2F5FA; */
		color: rgb(205, 215, 225);
		/* overflow-x: scroll; */
		--sv-bg: rgb(30, 38, 46);
		/* --sv-placeholder-color: #ffffff; */
		--sv-dropdown-height: 23rem;
		--sv-dropdown-border: 0;
		--sv-border: 0;
		--sv-border-radius: 0;
		--sv-general-padding: 0;
		--sv-item-wrap-padding: 0px 0px 0px 0px;
		/* --bits-select-anchor-width: 10rem;
		--bits-select-content-available-width: 10rem; */
		scrollbar-width: thick;
		scrollbar-color: rgba(0, 111, 161, 1) rgba(30, 38, 46, 1);
	}

	@media (max-width: 900px) {
		html {
			font-size: clamp(13px, 3.8vw, 16px);
		}
	}
	/* Styled scrollbar for webkit browsers */
	&::-webkit-scrollbar {
		width: 0.8rem;
	}

	&::-webkit-scrollbar-track {
		background: rgba(30, 38, 46, 1);
	}

	&::-webkit-scrollbar-thumb {
		background: rgba(0, 111, 161, 1);
		border-radius: 0.2rem;
	}

	/* #fdfdfde6; */
	/* #fdfdfde6; */
	input[type='number'] {
		appearance: none;
		-moz-appearance: textfield;
	}
	/* below classes are for plotly */
	body,
	button,
	.legendtext,
	.draglayer.cursor-crosshair,
	.hoverlayer,
	.nsewdrag.drag,
	.infolayer {
		font-family:
			symbols_skyquake, Inter, 'Segoe UI', 'Courier New', Roboto, Tahoma, 'Comic Sans MS',
			sans-serif !important;
	}
	img {
		max-width: 100%;
		max-height: 100%;
	}
	button {
		width: 100%;
		/* height: 100%; */
		border: transparent;
		color: rgb(205, 215, 225);
		font-size: inherit;
		cursor: pointer;
		padding: 0;
		background-color: rgb(30, 38, 46);
	}
	label {
		height: 100%;
		display: flex;
		align-items: center;
		padding-left: 0.5rem;
	}

	.input-field {
		height: 100%;
		font-family: inherit;
		border-width: 0;
		text-align: left;
		font-size: inherit;
		color: rgb(205, 215, 225);
		background-color: rgb(30, 38, 46);
	}

	.b-select-field {
		display: flex;
		height: 100%;
		align-items: center;
		padding-left: 0.2rem;
	}
	.b-select-dropdown {
		background-color: rgba(47, 62, 73, 1);
		padding: 0.05rem;
		margin-top: -0.03rem;
		margin-left: -0.075rem;
		border-left: solid 0.1rem rgba(13, 136, 9, 1);
		width: calc(var(--bits-select-anchor-width) + 0.1rem);
		max-height: 12rem;
		overflow-y: auto;
	}
	.b-select-item {
		padding: 0.2rem 0.2rem 0.2rem;
	}
	.caret-svg {
		margin-left: auto;
		height: 0.7rem;
	}

	/* .b-checkbox-root {
		height: min-content;
		width: min-content
	} */
	.b-checkbox-root {
		display: flex;
		align-items: center;
		justify-content: center;
		width: 0.9rem;
		height: 0.9rem;
		background-color: rgb(205, 215, 225);
		color: rgb(205, 215, 225);
	}
	.b-checkbox-root[data-state='checked'] {
		background-color: rgba(0, 111, 161, 1); /* Background when checked */
	}

	.b-switch-root {
		/* width: 3.5rem; */
		display: flex;
		align-items: center;
	}
	#auto_calcsvg,
	#manual_calcsvg {
		width: 2rem;
		height: 2rem;
	}

	.b-switch-root[data-state='checked'] > #auto_calcsvg {
		background-color: rgba(0, 111, 161, 1); /* Background when checked */
	}
	.b-switch-root[data-state='unchecked'] > #manual_calcsvg {
		background-color: rgba(0, 111, 161, 1); /* Background when checked */
	}

	.popover_button {
		border: 0;
		height: 100%;
		width: 0.9em;
		min-width: 0.9em;
		display: flex;
		align-items: center;
		justify-content: center;
		align-self: stretch;
		line-height: 1;
		font-size: 1.1em;
		background: linear-gradient(
			90deg,
			rgba(0, 0, 0, 0) 0%,
			rgba(0, 111, 161, 0.1) 50%,
			rgba(0, 111, 161, 0.3) 100%
		);
		color: rgba(0, 111, 161, 1);
		font-weight: 600;
	}
	.popover_button:hover,
	.popover_button:focus {
		background: linear-gradient(
			90deg,
			rgba(0, 0, 0, 0) 0%,
			rgba(13, 136, 9, 0.3) 50%,
			rgba(13, 136, 9, 0.5) 80%,
			rgba(13, 136, 9, 1) 100%
		);
		color: rgba(13, 136, 9, 1);
		outline: transparent;
		font-weight: 700;
	}
	.popover {
		background-color: rgba(17, 17, 17, 0.93);
		border-top: 0.15rem solid rgba(13, 136, 9, 1);
		border-left: 0.15rem solid rgba(13, 136, 9, 1);
		font-size: 0.91rem;
		font-weight: 400;
		padding: 0.5rem;
		z-index: 6000;
		max-inline-size: calc(100vw - 1rem);
		white-space: normal;
		overflow-wrap: anywhere;
		word-break: break-word;
	}

	input:focus,
	input:hover,
	button:focus,
	button:hover,
	.b-select-item:hover,
	.b-select-item:focus,
	label:hover > #plane_autocomplete,
	.modebar-btn:hover > .icon,
	.modebar-btn:focus > .icon,
	.legendtoggle:hover,
	.legendtoggle:focus,
	.plugin-editable.editable:hover,
	.plugin-editable.editable {
		outline: 0.1rem solid rgba(13, 136, 9, 1);
	}
	.plugin-editable.editable {
		background-color: red !important;
		/* display:none; */
	}
	.traces {
		width: 95%;
	}
	label:hover > .b-checkbox-root {
		outline: 0.2rem solid rgba(13, 136, 9, 1);
	}

	#home_img:hover,
	#home_img:focus,
	#home_button:hover,
	#home_button:focus,
	#discord_icon:hover,
	#discord_icon:focus,
	#github_icon:hover,
	#github_icon:focus,
	#calculator_link:hover,
	#calculator_link:focus,
	#guide_link:hover,
	#guide_link:focus {
		outline: 0.1rem solid rgba(255, 0, 0, 1);
	}
	a,
	input,
	label,
	button,
	.b-select-item,
	#home_img,
	#home_button,
	#discord_icon,
	#github_icon {
		cursor: pointer;
		outline: 0.1rem solid transparent;
		transition: outline-color 0.2s;
	}
	#calculator_link,
	#guide_link {
		border: 0.1rem solid rgba(47, 62, 73, 1);
	}

	/* grid-item.text {
		padding-left: 0.5rem;
	} */
	grid-item {
		color: rgb(174, 177, 184);
		display: flex;
		flex-wrap: nowrap;
		align-items: center;
	}

	/* Modebar are plotly icons btw.*/
	.modebar-container {
		position: relative;
		right: 100% !important;
	}
	.modebar.vertical {
		top: 3.5rem !important;
		left: 2.4rem;
	}

	@media (max-width: 900px) {
		.modebar-container {
			left: 0 !important;
			right: 0 !important;
		}

		.modebar {
			top: 0.2rem !important;
			right: 0 !important;
			left: auto !important;
		}
	}

	div.modebar-group {
		padding: 0 !important;
	}
	a.modebar-btn {
		height: 2.4rem !important;
		font-size: 1.2rem !important;
		aspect-ratio: 1/1;
		border: 2px solid transaprent;
	}
	/* .sdrag.drag.cursor-s-resize{
		display: flex;
		height: 100%;
		align-items: center;
		x: 500px;
	} */
</style>
